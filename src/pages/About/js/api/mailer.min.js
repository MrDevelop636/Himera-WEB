class Mailer{constructor(e){this.config=e,this.init()}init(){let e=document.querySelector(this.config.buttonSelector);e?e.addEventListener("click",()=>this.sendEmail()):console.error("Nie znaleziono przycisku.")}async sendEmail(){let e=document.querySelector(this.config.emailSelector).value,i=document.querySelector(this.config.subjectSelector).value,t=document.querySelector(this.config.messageSelector).value;try{let s=await fetch(this.config.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,subject:i,message:t})}),r=await s.json();r.success?alert(this.config.successMessage||"E-mail wysłany pomyślnie!"):alert(this.config.errorMessagePrefix+(r.error||"Nieznany błąd"))}catch(o){alert(this.config.errorMessagePrefix+o.message)}}}export default Mailer;