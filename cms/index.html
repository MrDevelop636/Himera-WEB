<!DOCTYPE html>
<html lang="pl" data-theme="dark">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HIMERA CMS | Edycja Wizualna</title>
        <link
      rel="preload"
      href="./src/pages/Home/css/main.css"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    />
    <noscript
      ><link rel="stylesheet" href="./src/pages/Home/css/main.css"
    /></noscript>
    <style>
        /* Style dla panelu CMS */
        :root {
            --cms-primary: #4a6cf7;
            --cms-secondary: #6f42c1;
            --cms-dark: #1e2a4a;
            --cms-light: #f8f9fa;
            --cms-border: #dee2e6;
            --cms-success: #198754;
            --cms-danger: #dc3545;
            --cms-warning: #ffc107;
        }
        
        .cms-panel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100vh;
            background: var(--cms-light);
            box-shadow: -5px 0 15px rgba(0,0,0,0.1);
            transition: right 0.3s ease;
            z-index: 10000;
            overflow-y: auto;
            padding: 20px;
            border-left: 1px solid var(--cms-border);
        }
        
        .cms-panel.open {
            right: 0;
        }
        
        .cms-toggle {
            position: fixed;
            top: 50%;
            right: 0;
            transform: translateY(-50%);
            background: var(--cms-primary);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px 0 0 5px;
            cursor: pointer;
            z-index: 9999;
            box-shadow: -2px 0 5px rgba(0,0,0,0.2);
        }
        
        .cms-section {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid var(--cms-border);
            border-radius: 5px;
            background: white;
        }
        
        .cms-section h3 {
            margin-top: 0;
            color: var(--cms-dark);
            border-bottom: 1px solid var(--cms-border);
            padding-bottom: 10px;
        }
        
        .cms-form-group {
            margin-bottom: 15px;
        }
        
        .cms-form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: var(--cms-dark);
        }
        
        .cms-form-group input,
        .cms-form-group textarea,
        .cms-form-group select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid var(--cms-border);
            border-radius: 4px;
            font-size: 14px;
        }
        
        .cms-form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .cms-btn {
            background: var(--cms-primary);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin-right: 10px;
            transition: background 0.2s;
        }
        
        .cms-btn:hover {
            background: #3a5ad9;
        }
        
        .cms-btn-danger {
            background: var(--cms-danger);
        }
        
        .cms-btn-danger:hover {
            background: #bd2130;
        }
        
        .cms-btn-success {
            background: var(--cms-success);
        }
        
        .cms-btn-success:hover {
            background: #0f6848;
        }
        
        .cms-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--cms-border);
        }
        
        .cms-tab {
            padding: 10px 15px;
            cursor: pointer;
            background: #f1f1f1;
            border: 1px solid transparent;
            margin-right: 5px;
            border-radius: 4px 4px 0 0;
        }
        
        .cms-tab.active {
            background: white;
            border-color: var(--cms-border);
            border-bottom-color: white;
            margin-bottom: -1px;
        }
        
        .cms-tab-content {
            display: none;
        }
        
        .cms-tab-content.active {
            display: block;
        }
        
        .component-highlight {
            outline: 2px dashed rgba(74, 108, 247, 0.5);
            position: relative;
            transition: outline-color 0.2s;
        }
        
        .component-highlight:hover {
            outline: 2px dashed var(--cms-primary);
        }
        
        .component-toolbar {
            position: absolute;
            top: -30px;
            right: 0;
            background: var(--cms-primary);
            border-radius: 4px;
            padding: 4px;
            display: flex;
            z-index: 100;
        }
        
        .component-toolbar button {
            background: transparent;
            border: none;
            color: white;
            cursor: pointer;
            padding: 4px 8px;
            font-size: 12px;
        }
        
        .dragging {
            opacity: 0.7;
            transform: rotate(3deg);
        }
        
        .drag-placeholder {
            border: 2px dashed var(--cms-primary);
            background: rgba(74, 108, 247, 0.1);
            height: 100px;
            margin: 10px 0;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <!-- Przycisk otwierający panel CMS -->
    <button class="cms-toggle" id="cmsToggle">☰ CMS</button>
    
    <!-- Panel CMS -->
    <div class="cms-panel" id="cmsPanel">
        <h2>Panel Edycji HIMERA</h2>
        
        <div class="cms-tabs">
            <div class="cms-tab active" data-tab="content">Zawartość</div>
            <div class="cms-tab" data-tab="style">Style</div>
            <div class="cms-tab" data-tab="components">Komponenty</div>
            <div class="cms-tab" data-tab="settings">Ustawienia</div>
        </div>
        
        <div class="cms-tab-content active" id="contentTab">
            <div class="cms-section">
                <h3>Nagłówek</h3>
                <div class="cms-form-group">
                    <label for="heroTitle">Tytuł</label>
                    <input type="text" id="heroTitle" data-selector=".hero__title" data-property="innerHTML">
                </div>
                <div class="cms-form-group">
                    <label for="heroSubtitle">Podtytuł</label>
                    <textarea id="heroSubtitle" data-selector=".hero__subtitle" data-property="innerHTML"></textarea>
                </div>
                <div class="cms-form-group">
                    <label for="heroCta">Tekst przycisku</label>
                    <input type="text" id="heroCta" data-selector=".hero__cta" data-property="innerHTML">
                </div>
                <button class="cms-btn" onclick="updateContent()">Zaktualizuj nagłówek</button>
            </div>
            
            <div class="cms-section">
                <h3>Sekcja O nas</h3>
                <div class="cms-form-group">
                    <label for="aboutTitle">Tytuł</label>
                    <input type="text" id="aboutTitle" data-selector=".about__title" data-property="innerHTML">
                </div>
                <div class="cms-form-group">
                    <label for="aboutText1">Tekst 1</label>
                    <textarea id="aboutText1" data-selector=".about__text:nth-child(2)" data-property="innerHTML"></textarea>
                </div>
                <div class="cms-form-group">
                    <label for="aboutText2">Tekst 2</label>
                    <textarea id="aboutText2" data-selector=".about__text:nth-child(3)" data-property="innerHTML"></textarea>
                </div>
                <button class="cms-btn" onclick="updateContent()">Zaktualizuj sekcję</button>
            </div>
            
            <div class="cms-section">
                <h3>Stopka</h3>
                <div class="cms-form-group">
                    <label for="footerDescription">Opis</label>
                    <textarea id="footerDescription" data-selector=".footer__description" data-property="innerHTML"></textarea>
                </div>
                <div class="cms-form-group">
                    <label for="footerCopyright">Tekst copyright</label>
                    <input type="text" id="footerCopyright" data-selector=".footer__copyright" data-property="innerHTML">
                </div>
                <button class="cms-btn" onclick="updateContent()">Zaktualizuj stopkę</button>
            </div>
        </div>
        
        <div class="cms-tab-content" id="styleTab">
            <div class="cms-section">
                <h3>Kolory strony</h3>
                <div class="cms-form-group">
                    <label for="primaryColor">Kolor podstawowy</label>
                    <input type="color" id="primaryColor" value="#4a6cf7" onchange="updateColor('--primary', this.value)">
                </div>
                <div class="cms-form-group">
                    <label for="secondaryColor">Kolor dodatkowy</label>
                    <input type="color" id="secondaryColor" value="#6f42c1" onchange="updateColor('--secondary', this.value)">
                </div>
                <div class="cms-form-group">
                    <label for="textColor">Kolor tekstu</label>
                    <input type="color" id="textColor" value="#333333" onchange="updateColor('--text', this.value)">
                </div>
            </div>
            
            <div class="cms-section">
                <h3>Czcionki</h3>
                <div class="cms-form-group">
                    <label for="fontFamily">Rodzina czcionek</label>
                    <select id="fontFamily" onchange="updateFont(this.value)">
                        <option value="'Inter', sans-serif">Inter</option>
                        <option value="'Roboto', sans-serif">Roboto</option>
                        <option value="'Open Sans', sans-serif">Open Sans</option>
                        <option value="'Montserrat', sans-serif">Montserrat</option>
                        <option value="'Poppins', sans-serif">Poppins</option>
                    </select>
                </div>
            </div>
        </div>
        
        <div class="cms-tab-content" id="componentsTab">
            <div class="cms-section">
                <h3>Zarządzanie sekcjami</h3>
                <p>Przeciągnij i upuść, aby zmienić kolejność sekcji:</p>
                <ul id="sortableSections" style="list-style: none; padding: 0;">
                    <li data-section="hero" style="padding: 10px; margin-bottom: 5px; background: #f1f1f1; cursor: move;">Sekcja Hero</li>
                    <li data-section="about" style="padding: 10px; margin-bottom: 5px; background: #f1f1f1; cursor: move;">Sekcja O nas</li>
                    <li data-section="models" style="padding: 10px; margin-bottom: 5px; background: #f1f1f1; cursor: move;">Sekcja Modele</li>
                    <li data-section="technology" style="padding: 10px; margin-bottom: 5px; background: #f1f1f1; cursor: move;">Sekcja Technologia</li>
                    <li data-section="contact" style="padding: 10px; margin-bottom: 5px; background: #f1f1f1; cursor: move;">Sekcja Kontakt</li>
                </ul>
                <button class="cms-btn" onclick="saveSectionsOrder()">Zapisz kolejność</button>
            </div>
            
            <div class="cms-section">
                <h3>Widoczność sekcji</h3>
                <div class="cms-form-group">
                    <label>
                        <input type="checkbox" id="showAbout" checked onchange="toggleSection('about', this.checked)">
                        Pokaż sekcję O nas
                    </label>
                </div>
                <div class="cms-form-group">
                    <label>
                        <input type="checkbox" id="showModels" checked onchange="toggleSection('models', this.checked)">
                        Pokaż sekcję Modele
                    </label>
                </div>
                <div class="cms-form-group">
                    <label>
                        <input type="checkbox" id="showTechnology" checked onchange="toggleSection('technology', this.checked)">
                        Pokaż sekcję Technologia
                    </label>
                </div>
                <div class="cms-form-group">
                    <label>
                        <input type="checkbox" id="showContact" checked onchange="toggleSection('contact', this.checked)">
                        Pokaż sekcję Kontakt
                    </label>
                </div>
            </div>
        </div>
        
        <div class="cms-tab-content" id="settingsTab">
            <div class="cms-section">
                <h3>Zapisz/Przywróć zmiany</h3>
                <button class="cms-btn cms-btn-success" onclick="saveChanges()">Zapisz zmiany</button>
                <button class="cms-btn cms-btn-danger" onclick="resetChanges()">Przywróć domyślne</button>
                <button class="cms-btn" onclick="exportConfig()">Eksportuj konfigurację</button>
                
                <div class="cms-form-group" style="margin-top: 20px;">
                    <label for="importConfig">Importuj konfigurację</label>
                    <input type="file" id="importConfig" accept=".json">
                    <button class="cms-btn" onclick="importConfig()" style="margin-top: 10px;">Importuj</button>
                </div>
            </div>
            
            <div class="cms-section">
                <h3>Ustawienia CMS</h3>
                <div class="cms-form-group">
                    <label>
                        <input type="checkbox" id="highlightComponents" onchange="toggleHighlight(this.checked)">
                        Podświetlaj komponenty po najechaniu
                    </label>
                </div>
            </div>
        </div>
    </div>

    <!-- Oryginalna strona HIMERA -->
    <!-- Pasek postępu przewijania -->
    <div id="scroll-progress"></div>

    <!-- Custom Cursor -->
    <div class="cursor"></div>

    <!-- Navbar -->
    <nav class="navbar">
      <div class="container navbar__container">
        <a href="#" class="navbar__logo">HIMERA</a>
        <div class="navbar__menu">
          <a href="#about" class="navbar__link">About</a>
          <a href="#models" class="navbar__link">Models</a>
          <a href="#technology" class="navbar__link">Technology</a>
          <a href="#contact" class="navbar__link">Contact</a>
        </div>
        <button class="navbar__theme-toggle" aria-label="Toggle theme">
          <span class="material-icons theme-icon">brightness_4</span>
        </button>
        <button class="navbar__burger" aria-label="Menu">
          <span class="material-icons">menu</span>
        </button>
      </div>
      <div class="navbar__mobile-menu">
        <ul class="navbar__mobile-links">
          <li><a href="#about" class="navbar__mobile-link">About</a></li>
          <li><a href="#models" class="navbar__mobile-link">Models</a></li>
          <li>
            <a href="#technology" class="navbar__mobile-link">Technology</a>
          </li>
          <li><a href="#contact" class="navbar__mobile-link">Contact</a></li>
        </ul>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" data-cms-section="hero">
      <div class="hero__content">
        <h1 class="hero__title text-gradient">Redefining <br />Automotive</h1>
        <p class="hero__subtitle">
          HIMERA combines cutting-edge technology with timeless design to create
          vehicles that transcend expectations.
        </p>
        <a href="#models" class="btn btn--primary hero__cta">Explore Models</a>
      </div>
      <div class="hero__scroll-hint">
        <span class="hero__scroll-hint-text text-uppercase">Scroll Down</span>
        <div class="hero__scroll-hint-icon"></div>
      </div>
    </section>

    <!-- About Section -->
    <section class="section about" id="about" data-cms-section="about">
      <div class="container">
        <div class="about__grid">
          <div class="about__content">
            <h2 class="about__title">
              Engineering <span class="text-gradient">Excellence</span>
            </h2>
            <p class="about__text">
              Founded in 1987, HIMERA has consistently pushed the boundaries of
              automotive innovation. Our team of visionary engineers and
              designers work tirelessly to create vehicles that deliver
              unparalleled performance and sophistication.
            </p>
            <p class="about__text">
              Every HIMERA vehicle is a masterpiece of precision engineering,
              crafted with the finest materials and subjected to rigorous
              testing to ensure perfection.
            </p>
            <div class="about__stats">
              <div class="about__stat">
                <div class="about__stat-value" data-target="35">0</div>
                <div class="about__stat-label">Years of Experience</div>
              </div>
              <div class="about__stat">
                <div class="about__stat-value" data-target="500">0</div>
                <div class="about__stat-label">Patents</div>
              </div>
              <div class="about__stat">
                <div class="about__stat-value" data-target="1000000">0</div>
                <div class="about__stat-label">Vehicles Produced</div>
              </div>
              <div class="about__stat">
                <div class="about__stat-value" data-target="24">0</div>
                <div class="about__stat-label">Countries</div>
              </div>
            </div>
          </div>
          <div class="about__media">
            <img
              src="/src/pages/Home/images/photo-1494972308805-463bc619d34e.avif"
              alt="HIMERA Factory"
              class="about__image"
              loading="lazy"
              decoding="async"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- Models Section -->
    <section class="section models" id="models" data-cms-section="models">
      <div class="container">
        <div class="section__header models__header">
          <h2>Our <span class="text-gradient">Models</span></h2>
          <a href="#" class="text-uppercase">View All</a>
        </div>
        <div class="models__slider splide">
          <div class="splide__track">
            <div class="splide__list">
              <div class="splide__slide">
                <div class="model-card">
                  <img
                    src="/src/pages/Home/images/photo-1494905998402-395d579af36f.avif"
                    alt="HIMERA GT"
                    class="model-card__image"
                    loading="lazy"
                    decoding="async"
                  />
                  <h3 class="model-card__name">GT</h3>
                  <div class="model-card__price">From $120,000</div>
                  <div class="model-card__features">
                    <div class="model-card__feature">
                      <span class="material-icons model-card__feature-icon"
                        >bolt</span
                      >
                      <span>620 HP</span>
                    </div>
                    <div class="model-card__feature">
                      <span class="material-icons model-card__feature-icon"
                        >speed</span
                      >
                      <span>3.2s 0-100</span>
                    </div>
                    <div class="model-card__feature">
                      <span class="material-icons model-card__feature-icon"
                        >map</span
                      >
                      <span>480km Range</span>
                    </div>
                  </div>
                  <a href="#" class="btn btn--primary model-card__cta"
                    >Configure</a
                  >
                </div>
              </div>
              <div class="splide__slide">
                <div class="model-card">
                  <img
                    src="/src/pages/Home/images/photo-1503376780353-7e6692767b70.avif"
                    alt="HIMERA S"
                    class="model-card__image"
                    loading="lazy"
                    decoding="async"
                  />
                  <h3 class="model-card__name">S</h3>
                  <div class="model-card__price">From $95,000</div>
                  <div class="model-card__features">
                    <div class="model-card__feature">
                      <span class="material-icons model-card__feature-icon"
                        >bolt</span
                      >
                      <span>480 HP</span>
                    </div>
                    <div class="model-card__feature">
                      <span class="material-icons model-card__feature-icon"
                        >speed</span
                      >
                      <span>4.1s 0-100</span>
                    </div>
                    <div class="model-card__feature">
                      <span class="material-icons model-card__feature-icon"
                        >map</span
                      >
                      <span>520km Range</span>
                    </div>
                  </div>
                  <a href="#" class="btn btn--primary model-card__cta"
                    >Configure</a
                  >
                </div>
              </div>
              <div class="splide__slide">
                <div class="model-card">
                  <img
                    src="./src/images/photo-1503376780353-7e6692767b70.avif"
                    alt="HIMERA X"
                    class="model-card__image"
                    loading="lazy"
                    decoding="async"
                  />
                  <h3 class="model-card__name">X</h3>
                  <div class="model-card__price">From $150,000</div>
                  <div class="model-card__features">
                    <div class="model-card__feature">
                      <span class="material-icons model-card__feature-icon"
                        >bolt</span
                      >
                      <span>700 HP</span>
                    </div>
                    <div class="model-card__feature">
                      <span class="material-icons model-card__feature-icon"
                        >speed</span
                      >
                      <span>2.9s 0-100</span>
                    </div>
                    <div class="model-card__feature">
                      <span class="material-icons model-card__feature-icon"
                        >map</span
                      >
                      <span>450km Range</span>
                    </div>
                  </div>
                  <a href="#" class="btn btn--primary model-card__cta"
                    >Configure</a
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Technology Section -->
    <section class="section technology" id="technology" data-cms-section="technology">
      <div class="container">
        <div class="section__header">
          <h2>Innovative <span class="text-gradient">Technology</span></h2>
        </div>
        <div class="technology__grid">
          <div class="tech-card">
            <div class="material-icons tech-card__icon">bolt</div>
            <h3 class="tech-card__title">HyperDrive System</h3>
            <p class="tech-card__description">
              Our proprietary all-electric powertrain delivers instant torque
              and unprecedented efficiency without compromising performance.
            </p>
          </div>
          <div class="tech-card">
            <div class="material-icons tech-card__icon">memory</div>
            <h3 class="tech-card__title">Neural AI</h3>
            <p class="tech-card__description">
              Advanced artificial intelligence learns your driving habits to
              optimize performance, comfort, and safety in real-time.
            </p>
          </div>
          <div class="tech-card">
            <div class="material-icons tech-card__icon">recycling</div>
            <h3 class="tech-card__title">EcoFrame</h3>
            <p class="tech-card__description">
              Sustainable materials and manufacturing processes reduce
              environmental impact without sacrificing structural integrity.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section class="section contact" id="contact" data-cms-section="contact">
      <div class="container">
        <div class="section__header">
          <h2>Begin Your <span class="text-gradient">Journey</span></h2>
        </div>
        <div class="contact__content">
          <form class="contact__form">
            <div class="form-group">
              <input type="text" id="name" placeholder=" " required />
              <label for="name">Full Name</label>
            </div>
            <div class="form-group">
              <input type="email" id="email" placeholder=" " required />
              <label for="email">Email Address</label>
            </div>
            <div class="form-group">
              <select id="interest" required>
                <option value="" disabled selected></option>
                <option value="test-drive">Schedule Test Drive</option>
                <option value="purchase">Purchase Inquiry</option>
                <option value="general">General Information</option>
              </select>
              <label for="interest">I'm interested in</label>
            </div>
            <div class="form-group">
              <textarea
                id="message"
                rows="4"
                placeholder=" "
                required
              ></textarea>
              <label for="message">Your Message</label>
            </div>
            <button type="submit" class="btn btn--primary">Submit</button>
          </form>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer__grid">
          <div class="footer__col">
            <a href="#" class="footer__logo">HIMERA</a>
            <p class="footer__description">
              Redefining automotive excellence through innovation, design, and
              performance.
            </p>
          </div>
          <div class="footer__col">
            <h4 class="footer__title">Models</h4>
            <ul class="footer__links">
              <li class="footer__link-item">
                <a href="#" class="footer__link">GT</a>
              </li>
              <li class="footer__link-item">
                <a href="#" class="footer__link">S</a>
              </li>
              <li class="footer__link-item">
                <a href="#" class="footer__link">X</a>
              </li>
              <li class="footer__link-item">
                <a href="#" class="footer__link">Upcoming</a>
              </li>
            </ul>
          </div>
          <div class="footer__col">
            <h4 class="footer__title">Company</h4>
            <ul class="footer__links">
              <li class="footer__link-item">
                <a href="#" class="footer__link">About</a>
              </li>
              <li class="footer__link-item">
                <a href="#" class="footer__link">Careers</a>
              </li>
              <li class="footer__link-item">
                <a href="#" class="footer__link">News</a>
              </li>
              <li class="footer__link-item">
                <a href="#" class="footer__link">Sustainability</a>
              </li>
            </ul>
          </div>
          <div class="footer__col">
            <h4 class="footer__title">Contact</h4>
            <ul class="footer__links">
              <li class="footer__link-item">
                <a href="#" class="footer__link">Find a Dealer</a>
              </li>
              <li class="footer__link-item">
                <a href="#" class="footer__link">Test Drive</a>
              </li>
              <li class="footer__link-item">
                <a href="#" class="footer__link">Customer Support</a>
              </li>
              <li class="footer__link-item">
                <a href="#" class="footer__link">Press Inquiries</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="footer__bottom">
          <p class="footer__copyright">
            © 2023 HIMERA Motors. All rights reserved.
          </p>
          <div class="footer__legal-links">
            <a href="#" class="footer__link">Privacy Policy</a>
            <a href="#" class="footer__link">Terms of Service</a>
            <a href="#" class="footer__link">Cookies</a>
          </div>
        </div>
      </div>
    </footer>

    <div class="social-bubbles">
      <a
        href="https://instagram.com"
        target="_blank"
        rel="noopener noreferrer"
        class="social-bubble"
        aria-label="Instagram"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
          <path
            d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"
          />
        </svg>
      </a>
      <a
        href="https://facebook.com"
        target="_blank"
        rel="noopener noreferrer"
        class="social-bubble"
        aria-label="Facebook"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">
          <path
            d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"
          />
        </svg>
      </a>
      <a
        href="https://linkedin.com"
        target="_blank"
        rel="noopener noreferrer"
        class="social-bubble"
        aria-label="LinkedIn"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
          <path
            d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"
          />
        </svg>
      </a>
    </div>
    <!-- Dodaj to przed zamknięciem </body> -->
    <div class="cookies-banner" id="cookiesBanner">
      <div class="cookies-banner__content">
        <div class="cookies-banner__text">
          <span class="material-icons cookies-banner__icon">cookie</span>
          <p>
            We use cookies to enhance your experience on our website. By
            continuing to browse, you agree to our use of cookies.
          </p>
        </div>
        <div class="cookies-banner__actions">
          <button
            class="btn btn--outline cookies-banner__btn"
            id="configureCookies"
          >
            Configure
          </button>
          <button
            class="btn btn--primary cookies-banner__btn"
            id="acceptCookies"
          >
            Accept All
          </button>
        </div>
      </div>
    </div>

    <div
      class="cookies-config-icon"
      id="cookiesConfigIcon"
      style="display: none"
    >
      <button class="cookies-config-icon__btn" aria-label="Cookie settings">
        <span class="material-icons cookies-icon">settings</span>
      </button>
    </div>

    <div class="cookies-modal" id="cookiesModal">
      <div class="cookies-modal__content">
        <div class="cookies-modal__header">
          <h3 class="cookies-modal__title">Cookie Preferences</h3>
          <button class="cookies-modal__close" id="closeCookiesModal">
            <span class="material-icons">close</span>
          </button>
        </div>
        <div class="cookies-modal__body">
          <div class="cookies-category">
            <div class="cookies-category__header">
              <label class="cookies-category__toggle">
                <input type="checkbox" checked disabled />
                <span class="cookies-category__slider"></span>
              </label>
              <h4 class="cookies-category__title">Essential Cookies</h4>
            </div>
            <p class="cookies-category__description">
              These cookies are necessary for the website to function and cannot
              be switched off.
            </p>
          </div>

          <div class="cookies-category">
            <div class="cookies-category__header">
              <label class="cookies-category__toggle">
                <input type="checkbox" id="analyticsCookies" checked />
                <span class="cookies-category__slider"></span>
              </label>
              <h4 class="cookies-category__title">Analytics Cookies</h4>
            </div>
            <p class="cookies-category__description">
              Allow us to analyze website usage to improve performance.
            </p>
          </div>

          <div class="cookies-category">
            <div class="cookies-category__header">
              <label class="cookies-category__toggle">
                <input type="checkbox" id="marketingCookies" checked />
                <span class="cookies-category__slider"></span>
              </label>
              <h4 class="cookies-category__title">Marketing Cookies</h4>
            </div>
            <p class="cookies-category__description">
              Used to track visitors across websites for targeted advertising.
            </p>
          </div>
        </div>
        <div class="cookies-modal__footer">
          <button class="btn btn--primary" id="saveCookiePreferences">
            Save Preferences
          </button>
        </div>
      </div>
    </div>

    <script>
        // Główny obiekt CMS
        const himeraCMS = {
            // Konfiguracja
            config: {
                highlightComponents: true,
                currentTab: 'content'
            },
            
            // Inicjalizacja CMS
            init: function() {
                this.loadSavedData();
                this.setupEventListeners();
                this.setupDragAndDrop();
                this.setupComponentHighlighting();
                console.log('HIMERA CMS zainicjalizowany');
            },
            
            // Ładowanie zapisanych danych
            loadSavedData: function() {
                const savedData = localStorage.getItem('himeraCMSData');
                if (savedData) {
                    const data = JSON.parse(savedData);
                    
                    // Aktualizacja zawartości
                    if (data.content) {
                        for (const [selector, content] of Object.entries(data.content)) {
                            const element = document.querySelector(selector);
                            if (element) {
                                element.innerHTML = content;
                            }
                        }
                    }
                    
                    // Aktualizacja stylów
                    if (data.styles) {
                        for (const [property, value] of Object.entries(data.styles)) {
                            document.documentElement.style.setProperty(property, value);
                        }
                    }
                    
                    // Aktualizacja widoczności sekcji
                    if (data.visibility) {
                        for (const [section, visible] of Object.entries(data.visibility)) {
                            this.toggleSection(section, visible, false);
                        }
                    }
                    
                    // Aktualizacja kolejności sekcji
                    if (data.sectionsOrder) {
                        this.reorderSections(data.sectionsOrder);
                    }
                }
                
                // Wypełnij formularze aktualnymi danymi
                this.populateForms();
            },
            
            // Zapisywanie danych
            saveData: function() {
                const contentData = {};
                const styleData = {};
                const visibilityData = {};
                const sectionsOrder = [];
                
                // Zbierz dane o zawartości
                document.querySelectorAll('[data-selector]').forEach(input => {
                    const selector = input.getAttribute('data-selector');
                    const property = input.getAttribute('data-property');
                    const element = document.querySelector(selector);
                    
                    if (element) {
                        contentData[selector] = element[property];
                    }
                });
                
                // Zbierz dane o stylach
                const computedStyles = getComputedStyle(document.documentElement);
                styleData['--primary'] = computedStyles.getPropertyValue('--primary').trim();
                styleData['--secondary'] = computedStyles.getPropertyValue('--secondary').trim();
                styleData['--text'] = computedStyles.getPropertyValue('--text').trim();
                
                // Zbierz dane o widoczności sekcji
                document.querySelectorAll('[data-cms-section]').forEach(section => {
                    const sectionId = section.getAttribute('data-cms-section');
                    visibilityData[sectionId] = section.style.display !== 'none';
                });
                
                // Zbierz dane o kolejności sekcji
                document.querySelectorAll('[data-cms-section]').forEach(section => {
                    sectionsOrder.push(section.getAttribute('data-cms-section'));
                });
                
                // Zapisz wszystkie dane
                const allData = {
                    content: contentData,
                    styles: styleData,
                    visibility: visibilityData,
                    sectionsOrder: sectionsOrder,
                    timestamp: new Date().toISOString()
                };
                
                localStorage.setItem('himeraCMSData', JSON.stringify(allData));
                alert('Zmiany zostały zapisane!');
            },
            
            // Resetowanie zmian
            resetData: function() {
                if (confirm('Czy na pewno chcesz przywrócić domyślne ustawienia? Wszystkie zmiany zostaną utracone.')) {
                    localStorage.removeItem('himeraCMSData');
                    location.reload();
                }
            },
            
            // Ustawienia event listenerów
            setupEventListeners: function() {
                // Przycisk otwierający/zamykający panel
                document.getElementById('cmsToggle').addEventListener('click', () => {
                    document.getElementById('cmsPanel').classList.toggle('open');
                });
                
                // Przełączanie zakładek
                document.querySelectorAll('.cms-tab').forEach(tab => {
                    tab.addEventListener('click', () => {
                        const tabName = tab.getAttribute('data-tab');
                        this.switchTab(tabName);
                    });
                });
                
                // Zapisywanie zmian
                document.querySelectorAll('.cms-form-group input, .cms-form-group textarea').forEach(input => {
                    input.addEventListener('input', () => {
                        const selector = input.getAttribute('data-selector');
                        const property = input.getAttribute('data-property');
                        const value = input.value;
                        
                        if (selector && property) {
                            const element = document.querySelector(selector);
                            if (element) {
                                element[property] = value;
                            }
                        }
                    });
                });
            },
            
            // Przełączanie zakładek
            switchTab: function(tabName) {
                // Ukryj wszystkie zakładki
                document.querySelectorAll('.cms-tab-content').forEach(tab => {
                    tab.classList.remove('active');
                });
                
                // Pokaż wybraną zakładkę
                document.getElementById(tabName + 'Tab').classList.add('active');
                
                // Aktualizuj aktywne przyciski zakładek
                document.querySelectorAll('.cms-tab').forEach(tab => {
                    tab.classList.remove('active');
                    if (tab.getAttribute('data-tab') === tabName) {
                        tab.classList.add('active');
                    }
                });
                
                this.config.currentTab = tabName;
            },
            
            // Ustawienia przeciągania i upuszczania
            setupDragAndDrop: function() {
                const sortableList = document.getElementById('sortableSections');
                let draggedItem = null;
                
                // Event listeners dla elementów do przeciągania
                const items = sortableList.querySelectorAll('li');
                items.forEach(item => {
                    item.setAttribute('draggable', true);
                    
                    item.addEventListener('dragstart', function(e) {
                        draggedItem = this;
                        setTimeout(() => this.classList.add('dragging'), 0);
                    });
                    
                    item.addEventListener('dragend', function() {
                        this.classList.remove('dragging');
                        draggedItem = null;
                    });
                });
                
                // Event listeners dla listy
                sortableList.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    const afterElement = getDragAfterElement(this, e.clientY);
                    const draggable = document.querySelector('.dragging');
                    
                    if (afterElement == null) {
                        this.appendChild(draggable);
                    } else {
                        this.insertBefore(draggable, afterElement);
                    }
                });
                
                // Funkcja pomocnicza do znajdowania elementu po pozycji
                function getDragAfterElement(container, y) {
                    const draggableElements = [...container.querySelectorAll('li:not(.dragging)')];
                    
                    return draggableElements.reduce((closest, child) => {
                        const box = child.getBoundingClientRect();
                        const offset = y - box.top - box.height / 2;
                        
                        if (offset < 0 && offset > closest.offset) {
                            return { offset: offset, element: child };
                        } else {
                            return closest;
                        }
                    }, { offset: Number.NEGATIVE_INFINITY }).element;
                }
            },
            
            // Zmiana kolejności sekcji
            reorderSections: function(order) {
                const container = document.querySelector('body');
                
                order.forEach(sectionId => {
                    const section = document.querySelector(`[data-cms-section="${sectionId}"]`);
                    if (section) {
                        container.appendChild(section);
                    }
                });
            },
            
            // Zapisanie kolejności sekcji
            saveSectionsOrder: function() {
                const order = [];
                document.querySelectorAll('[data-cms-section]').forEach(section => {
                    order.push(section.getAttribute('data-cms-section'));
                });
                
                // Pobierz aktualne dane
                const currentData = JSON.parse(localStorage.getItem('himeraCMSData') || '{}');
                
                // Zaktualizuj kolejność sekcji
                currentData.sectionsOrder = order;
                
                // Zapisz dane
                localStorage.setItem('himeraCMSData', JSON.stringify(currentData));
                
                alert('Kolejność sekcji została zapisana!');
            },
            
            // Podświetlanie komponentów
            setupComponentHighlighting: function() {
                const sections = document.querySelectorAll('[data-cms-section]');
                
                sections.forEach(section => {
                    section.addEventListener('mouseenter', () => {
                        if (this.config.highlightComponents) {
                            section.classList.add('component-highlight');
                        }
                    });
                    
                    section.addEventListener('mouseleave', () => {
                        section.classList.remove('component-highlight');
                    });
                });
            },
            
            // Przełączanie podświetlania komponentów
            toggleHighlight: function(enable) {
                this.config.highlightComponents = enable;
            },
            
            // Przełączanie widoczności sekcji
            toggleSection: function(sectionId, visible, save = true) {
                const section = document.querySelector(`[data-cms-section="${sectionId}"]`);
                const checkbox = document.getElementById(`show${sectionId.charAt(0).toUpperCase() + sectionId.slice(1)}`);
                
                if (section) {
                    if (visible) {
                        section.style.display = 'block';
                    } else {
                        section.style.display = 'none';
                    }
                }
                
                if (checkbox) {
                    checkbox.checked = visible;
                }
                
                if (save) {
                    // Zaktualizuj dane w localStorage
                    const currentData = JSON.parse(localStorage.getItem('himeraCMSData') || '{}');
                    if (!currentData.visibility) currentData.visibility = {};
                    currentData.visibility[sectionId] = visible;
                    localStorage.setItem('himeraCMSData', JSON.stringify(currentData));
                }
            },
            
            // Wypełnianie formularzy aktualnymi danymi
            populateForms: function() {
                document.querySelectorAll('[data-selector]').forEach(input => {
                    const selector = input.getAttribute('data-selector');
                    const property = input.getAttribute('data-property');
                    const element = document.querySelector(selector);
                    
                    if (element) {
                        input.value = element[property];
                    }
                });
            },
            
            // Eksport konfiguracji
            exportConfig: function() {
                const data = localStorage.getItem('himeraCMSData');
                if (!data) {
                    alert('Brak danych do eksportu!');
                    return;
                }
                
                const blob = new Blob([data], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                
                const a = document.createElement('a');
                a.href = url;
                a.download = 'himera-cms-config.json';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            },
            
            // Import konfiguracji
            importConfig: function() {
                const fileInput = document.getElementById('importConfig');
                const file = fileInput.files[0];
                
                if (!file) {
                    alert('Proszę wybrać plik do importu!');
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = (e) => {
                    try {
                        const config = JSON.parse(e.target.result);
                        localStorage.setItem('himeraCMSData', JSON.stringify(config));
                        alert('Konfiguracja zaimportowana pomyślnie! Strona zostanie przeładowana.');
                        location.reload();
                    } catch (error) {
                        alert('Błąd podczas importowania pliku: ' + error.message);
                    }
                };
                reader.readAsText(file);
            }
        };

        // Funkcje globalne dla przycisków
        function updateContent() {
            himeraCMS.saveData();
        }
        
        function updateColor(property, value) {
            document.documentElement.style.setProperty(property, value);
            himeraCMS.saveData();
        }
        
        function updateFont(font) {
            document.body.style.fontFamily = font;
            himeraCMS.saveData();
        }
        
        function toggleSection(sectionId, visible) {
            himeraCMS.toggleSection(sectionId, visible);
        }
        
        function saveChanges() {
            himeraCMS.saveData();
        }
        
        function resetChanges() {
            himeraCMS.resetData();
        }
        
        function exportConfig() {
            himeraCMS.exportConfig();
        }
        
        function importConfig() {
            himeraCMS.importConfig();
        }
        
        function saveSectionsOrder() {
            himeraCMS.saveSectionsOrder();
        }
        
        function toggleHighlight(enable) {
            himeraCMS.toggleHighlight(enable);
        }

        // Inicjalizacja CMS po załadowaniu strony
        document.addEventListener('DOMContentLoaded', function() {
            himeraCMS.init();
        });
    </script>
</body>
</html>